<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>AngoraEditor -- based on Phaser Game Engine</title>
	<!--loading denpendencies-->
	<script type="text/javascript" src="dependencies/phaser.min.js"></script>
	<script type="text/javascript" src="dependencies/jquery/jquery.min.js"></script>
	<script type="text/javascript" src="dependencies/jquery/jquery.mousewheel.min.js"></script>
	<script type="text/javascript" src="dependencies/jquery/jquery.easyui.min.js"></script>
	<link rel="stylesheet" href="dependencies/jquery/themes/blackmetro/easyui.css">
	<link rel="stylesheet" href="dependencies/jquery/themes/icon.css">
	<!--loading codemirror editor-->

	<link rel="stylesheet" href="dependencies/codemirror/addon/lint/lint.css">
	<link rel="stylesheet" href="dependencies/codemirror/addon/hint/show-hint.css">
	<link rel="stylesheet" href="dependencies/codemirror/lib/codemirror.css">
	<link rel="stylesheet" href="dependencies/codemirror/themes/zenburn.css">
	<script src="dependencies/codemirror/lib/codemirror.js"></script>
	<script src="dependencies/codemirror/mode/javascript/javascript.js"></script>
	<script src="dependencies/codemirror/addon/lint/jshint.js"></script>
	<script src="dependencies/codemirror/addon/lint/lint.js"></script>
	<script src="dependencies/codemirror/addon/lint/javascript-lint.js"></script>
	<script src="dependencies/codemirror/addon/hint/javascript-hint.js"></script>
	<script src="dependencies/codemirror/addon/hint/show-hint.js"></script>
	<!--loading client scripts-->
	<script type="text/javascript" src="client/AngoraEditor.js"></script>
	<script type="text/javascript" src="client/System/System.js"></script>
	<script type="text/javascript" src="client/System/file.js"></script>
	<script type="text/javascript" src="client/System/history.js"></script>

	<script type="text/javascript" src="client/UIComponent/ui.js"></script>
	<script type="text/javascript" src="client/UIComponent/control/nodeTree.js"></script>
	<script type="text/javascript" src="client/UIComponent/control/propertygrid.js"></script>
	<script type="text/javascript" src="client/UIComponent/control/codepanel.js"></script>
	<script type="text/javascript" src="client/UIComponent/control/eventpanel.js"></script>
	<script type="text/javascript" src="client/UIComponent/control/menu.js"></script>
	<script type="text/javascript" src="client/UIComponent/control/contextmenu.js"></script>
	<script type="text/javascript" src="client/UIComponent/control/gamepanel.js"></script>
	<script type="text/javascript" src="client/UIComponent/control/scenepanel.js"></script>
	<script type="text/javascript" src="client/UIComponent/control/resourcepanel.js"></script>
	<script type="text/javascript" src="client/UIComponent/control/extendpanel.js"></script>
	<script type="text/javascript" src="client/UIComponent/control/audiopanel.js"></script>
	<script type="text/javascript" src="client/UIComponent/control/animepanel.js"></script>

	<script type="text/javascript" src="client/UIComponent/dialog/OpenProjectDialog.js"></script>
	<script type="text/javascript" src="client/UIComponent/dialog/NewProjectDialog.js"></script>
	<script type="text/javascript" src="client/UIComponent/dialog/animeEditor.js"></script>
	<script type="text/javascript" src="client/UIComponent/dialog/audioEditor.js"></script>
	<script type="text/javascript" src="client/UIComponent/dialog/helpDialog.js"></script>
	<script type="text/javascript" src="client/UIComponent/dialog/particleEditor.js"></script>
	<script type="text/javascript" src="client/UIComponent/dialog/physicsEditor.js"></script>
	<script type="text/javascript" src="client/UIComponent/dialog/tiledMapEditor.js"></script>
	<script type="text/javascript" src="client/UIComponent/dialog/resourceEditor.js"></script>
	<script type="text/javascript" src="client/UIComponent/dialog/NewNodeDialog.js"></script>

	<script type="text/javascript" src="client/models/DataModel.js"></script>
	<script type="text/javascript" src="client/models/ProjectModel.js"></script>
	<script type="text/javascript" src="client/models/GameModel/GameModel.js"></script>
	<script type="text/javascript" src="client/models/GameModel/StateModel.js"></script>
	<script type="text/javascript" src="client/models/GameModel/GameNode.js"></script>
	<script type="text/javascript" src="client/models/GameModel/Resource.js"></script>

	<script type="text/javascript" src="client/controls/Manager.js"></script>
	<script type="text/javascript" src="client/controls/DataControl/project.js"></script>
	<script type="text/javascript" src="client/controls/DataControl/app.js"></script>
	<script type="text/javascript" src="client/controls/GameControl/game.js"></script>
	<script type="text/javascript" src="client/controls/GameControl/node.js"></script>
	<script type="text/javascript" src="client/controls/GameControl/resource.js"></script>
	<script type="text/javascript" src="client/controls/GameControl/code.js"></script>
	<script type="text/javascript" src="client/controls/ViewControl/view.js"></script>

	<script type="text/javascript" src="client/template/phaser/template.js"></script>

	<link rel="stylesheet" href="client/UIComponent/style/icons.css">
	<link rel="stylesheet" href="client/UIComponent/style/style.css">
</head>
<body>
	<!--main layout frame-->
	<div id="layout" class="easyui-layout" fit="true">
		<!--menu on top container-->
		<div id="topContainer" data-options="region:'north'" style="overflow:hidden">
			<div >
				<a href="#" class="easyui-menubutton" menu="#submenu_file" iconCls="icon-ae-file">File</a>
				<!--<a href="#" class="easyui-menubutton" menu="#submenu_tools" iconCls="icon-ae-tools">Tools</a>
				<a href="#" class="easyui-menubutton" menu="#submenu_app" iconCls="icon-ae-config">App</a>-->
				<a href="#" class="easyui-menubutton" menu="#submenu_run" iconCls="icon-ae-run">Run</a>
				<a href="#" class="easyui-menubutton" menu="#submenu_help" iconCls="icon-ae-help">About</a>
			</div>
			<div id="submenu_file" style="width:100px;">
				<div id="newProject" iconCls="icon-ae-new">New</div>
				<div id="openProject" iconCls="icon-ae-open">Open</div>
				<div id="saveProject" iconCls="icon-ae-save" data-options="disabled:true">Save</div>
				<div id="closeProject" iconCls="icon-ae-file" data-options="disabled:true">Close</div>
			</div>
			<div id="submenu_tools" style="width:100px;">
				<div id="stamp" iconCls="icon-ae-stamp" data-options="disabled:true">Stamp</div>
				<div id="resource" iconCls="icon-ae-resource" data-options="disabled:true">Resource</div>
				<div id="tilemap" iconCls="icon-ae-tilemap" data-options="disabled:true">Tilemap</div>
				<div id="particle" iconCls="icon-ae-particle" data-options="disabled:true">Particle</div>
				<div id="audio" iconCls="icon-ae-audio" data-options="disabled:true">Audio</div>
				<div id="anime" iconCls="icon-ae-anim" data-options="disabled:true">Animation</div>
				<div id="physics" iconCls="icon-ae-physics" data-options="disabled:true">Physics</div>
			</div>
			<div id="submenu_app" style="width:100px;">
				<div id="app" iconCls="icon-ae-config" data-options="disabled:true">AppConfig</div>
			</div>
			<div id="submenu_run" style="width:100px;">
				<div id="run" iconCls="icon-ae-run" data-options="disabled:true">Run</div>
				<div id="release" iconCls="icon-ae-release" data-options="disabled:true">Release</div>
			</div>
			<div id="submenu_help" style="width:100px;">
				<div id="about" iconCls="icon-ae-about">About</div>
				<div id="help" iconCls="icon-ae-help">Help</div>
				<div class="menu-sep"></div>
				<div id="preferences" iconCls="icon-ae-config">Preferences</div>
			</div>
		</div>
		<!--propertygrid on right container-->
		<div id="rightContainer" data-options="region:'east',split:true" title="Properties" style="width:200px;">
			<div class="easyui-tabs" fit="true" data-options="border:false">
				<div title="Attributes" fit="true">
					<div class="easyui-layout" fit="true">
						<div data-options="region:'north'" style="overflow:hidden">
							<a id="addProperty" class="easyui-linkbutton" data-options="iconCls:'icon-ae-add'" style="border:none"></a>
							<a id="removeProperty" class="easyui-linkbutton" data-options="iconCls:'icon-ae-remove'" style="border:none"></a>
						</div>
						<div id="attributes" class="easyui-propertygrid" data-options="region:'center'" fit="true"></div>
					</div>
				</div>
				<div title="events" fit="true">
					<div class="easyui-layout" fit="true">
						<div data-options="region:'north'" style="overflow:hidden">
							<a id="addEvent" class="easyui-linkbutton" data-options="iconCls:'icon-ae-add'" style="border:none"></a>
							<a id="removeEvent" class="easyui-linkbutton" data-options="iconCls:'icon-ae-remove'" style="border:none"></a>
						</div>
						<div id="events" class="easyui-propertygrid" data-options="region:'center'" fit="true"></div>
					</div>
				</div>
			</div>
		</div>
		<!--nodeTree on left container-->
		<div id="leftContainer" data-options="region:'west',split:true" title="Scene" style="width:200px;">
			<div class="easyui-tabs" fit="true" data-options="border:false">
				<div title="scenes" fit="true">
					<div class="easyui-layout" fit="true">
						<div data-options="region:'north'" style="overflow:hidden">
							<a id="addScene" class="easyui-linkbutton" data-options="iconCls:'icon-ae-add'" style="border:none"></a>
							<a id="removeScene" class="easyui-linkbutton" data-options="iconCls:'icon-ae-remove'" style="border:none"></a>
						</div>
						<div data-options="region:'center'">
						<ul id="scenes" title="scenes"></ul></div>
						<!--<div id="scenes" data-options="region:'center'"></div>-->
					</div>
				</div>
				<div title="nodes" fit="true">
					<div class="easyui-layout" fit="true">
						<div data-options="region:'north'" style="overflow:hidden">
							<a id="addNode" class="easyui-linkbutton" data-options="iconCls:'icon-ae-add'" style="border:none"></a>
							<a id="removeNode" class="easyui-linkbutton" data-options="iconCls:'icon-ae-remove'" style="border:none"></a>
							<a id="moveupNode" class="easyui-linkbutton" data-options="iconCls:'icon-ae-moveup'" style="border:none"></a>
							<a id="movedownNode" class="easyui-linkbutton" data-options="iconCls:'icon-ae-movedown'" style="border:none"></a>
						</div>
						<div id="nodetreepanel" data-options="region:'center'" ><ul id="nodes" class="easyui-tree" ></ul></div>
					</div>
				</div>
			</div>
		</div>
		<!--gamepane on center container-->
		<div id="centerContainer" data-options="region:'center'">
			<div id="tabs" fit="true"  class="easyui-tabs" data-options="border:false">
				<div title="preview" style="overflow:hidden;" fit="true">
					<div id="preview" class="grid" style="width:100%;height:100%;background-color:#000000">
					</div>
				</div>
			</div>
		</div>
		<!-- -->
		<div id="centerContainer" data-options="region:'south',split:true">
			<div id="tabs" fit="true" style="overflow:hidden;height:250px;" class="easyui-tabs" data-options="border:false,tabPosition:'left',headerWidth:100">
				<div id='resourceTab' class="easyui-layout" title="resources" fit="true">
					<div id="resPanel" data-options="region:'center'"></div>
					<div data-options="region:'east',collapsed:true" style="width:200px;">
						<div id="resProperty" class="easyui-propertygrid" ></div>
					</div>
				</div>
				<div id='extendTab' title="extends" fit="true"></div>
				<div id='animeTab' title="animation" fit="true"></div>
				<div id='audioTab' title="audio" fit="true"></div>
			</div>
		</div>

	</div>
	<!--context menu-->
	<div id="context"></div>
</div>
<!--varity of dialogs-->
<div id="dd"></div>
<!--open file dialog-->
<form action="/files" id="filedialog" method="post" enctype="multipart/form-data" style="display:none">
	<input id="upload" type="file" name="upload" />
</form>
<script>
if (!String.prototype.format) {
	String.prototype.format = function () {
		var args = arguments;
		return this.replace(/{(\d+)}/g, function (match, number) {
			return typeof args[number] != 'undefined'? args[number] : match ;
		});
	};
}
if(!String.prototype.insert){
	String.prototype.insert = function (index, string) {
		if (index > 0)
		return this.substring(0, index) + string + this.substring(index, this.length);
		else
		return string + this;
	};
}
function ObjectInArray(obj,array){
  return !(array.indexOf(obj) === -1);
};
function parseBoolean(str){
	return String(str)=='true';
}
var System=new AngoraEditor.SystemManager();
var edt=new AngoraEditor();
</script>
</body>
</html>
