	<style>	.track{		height:64px;		width:64px;		border:2px solid gray;		margin:8px;		float:left;		position:relative;		overflow:hidden;	}	.track span{		background:#ccc;		position:absolute;		width:64px;		left:0px;		top:48px;	}	</style>	<div class="easyui-layout" fit='true'>	<div data-options="region:'north'" style="height:64px;">		<div style="overflow:hidden">			<a id="addTrack" class="easyui-linkbutton" data-options="iconCls:'icon-ae-add'" style="border:none"></a>			<a id="removeTrack" class="easyui-linkbutton" data-options="iconCls:'icon-ae-remove'" style="border:none"></a>			<audio id="selectedaudio" ></audio>		</div>	</div>	<div data-options="region:'center'" >		<div id='container' style="position:relative;">			<div id="tracks" ></div>		</div>	</div>	<div data-options="region:'east'" style="width:150px;">		<div id="audioproperty">property</div>	</div>	<div data-options="region:'south'" style="height:64px;">		<button id="btn_ok" style="float:left;margin-top:10px;">OK</button>		<button id="btn_cancel" style="float:right;margin-top:10px;">Cancel</button>	</div>	</div>	<script>	$(document).ready(function(){		var editor=edt;		if(editor.node.selected==null){			$('#dd').dialog('close');			return false;		}				var audio=editor.res.get(editor.node.selected['audio']);		var path=editor.project.currentProject.path+'/'+audio['path'];		var tracks=typeof editor.node.selected.tracks=='object'?editor.node.selected.tracks:{};		var w=64;		var h=64;		var selectedTrack=null;		var gameAudio=null;		function updateTime(){			//var tid=$('.selected').attr('id');			var audioDiv=$('#selectedaudio')[0];			var start=parseInt(selectedTrack.start);			var endTime=start+parseInt(selectedTrack.duration);			if(audioDiv.currentTime>=endTime)				audioDiv.pause();		}		function play(track){			var audioDiv=$('#selectedaudio')[0];			audioDiv.currentTime=track.start;			audioDiv.play();		}		$('#selectedaudio').attr('src', path);		$('#rect').css({width:w,height:h});		$('#audioproperty').propertygrid({			data : '',			onEndEdit : function (index, field, changes) {				var name = field['name'];				var value = field['value'];				selectedTrack[name]=value;			}		});		if(typeof tracks!='undefined'){			for(key in tracks){				$('#tracks').prepend("<div class='track' id='{0}'><span>{0}</span></div>".format(key));			}		}		$('#addTrack').click(function(){			editor.ui.prompt('Add Track','Enter track name',function(name){				if (typeof name=='undefined' && name.trim() == '')return;				tracks[name]={					start:1,					duration:1,					loop:false				}				$('#tracks').prepend("<div class='track' id='{0}'><span>{0}</span></div>".format(name));			});		});		$('#selectedaudio').bind('timeupdate', updateTime);		$('#tracks').delegate('.track','click',function(){			var id=$(this).attr('id');			selectedTrack=tracks[id];			$('#audioproperty').propertygrid('loadData',[				{"name":"start","value":selectedTrack.start,"editor":"numberbox"},				{"name":"duration","value":selectedTrack.duration,"editor":"numberbox"},				{"name":"loop","value":selectedTrack.loop,"editor":"text"}			]);			play(selectedTrack);		});		$("#btn_ok").click(function(){			editor.attr.setAttr(editor.node.selected,'tracks',tracks);			$('#dd').dialog('close');		});		$("#btn_cancel").click(function(){			$('#dd').dialog('close');		});	});	</script>